---
title: "Untitled"
author: "Kiera Matiska"
date: "10/23/2021"
output: html_document
---

```{r setup, include=TRUE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

# Add packages
library(tidyverse)
library(here)
library(janitor)
library(kableExtra)
```

# Read in urchins.csv and clean up column names

- Use the function read_csv() to read in the data
- Use the fuction clean_names() to change column headers to lower-snake case

```{r}
urchins <- read_csv(here("data", "urchins.csv"))

urchins_clean <- urchins %>% 
  clean_names()
```

# Section 1: Size Comparisons

### Data Wrangling

Use select() to select the columns size and common_name create a new data frame

```{r}
urchins_size <- urchins_clean %>% 
  select(common_name, size)
```


### Data visualization

Using ggplot(), create a histogram using geom_histogram to compare the distribution of sizes between red and purple urchins
- Reduce number of bins to ~10
- Add a caption figure

```{r}
ggplot(data = urchins_size,
       aes(x = size, color = common_name)) +
  geom_histogram() + # Try to figure out how to add color
  facet_grid(~ common_name) +
  stat_bin(bins = 10) +
  labs(title = "Size Distributions of Purple and Red Urchins",
      x = "Urchin Diameter (cm)",
      y = "Population Count")
```

Figure 1: Size Distributions of Purple and Red Urchins. Sizes are measured using centimeter on sea urchins within this sample.

### Statistical Analyisis

Using summarize() create a summary table for purple and red sea urchins. Table should include:
- mean
- median
- standard deviation
- sample size

Use kableExtra to finalize table for knitted document and add a table caption above the table

```{r}
urchin_size_sum <- urchins_size %>% 
  group_by(common_name) %>% 
  summarize(mean(size),
            median(size),
            sd(size),
            sample_size = n())

urchin_size_sum %>% 
  kbl(caption = "Table 1: Statistical data, including mean, median, standard deviation, and sample size, of purple and red sea urchin sizes") %>% 
  kable_styling()
```

### Key takeaways

On average, red urchins appear to be larger in size than purple urchins. The overall spread for red urchins is also much larger than the spread of purple urchins, therefore possibly indicating that red urchins have more variations in sizes. The average size of each sample is 4.47 cm for purple urchins and 6.78 for red urchins, therefore showing that red urchins are, on average, greater than 2 cm larger than purple urchins.
